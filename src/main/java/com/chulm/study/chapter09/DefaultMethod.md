# Default Method

- 자바8에서는 기본 구현을 포함하는 인터페이스를 정의하는 두 가지 방법을 정의
    + 인터페이스 내부의 정적 메소드 사용
    + 인터페이스의 기본 구현을 제공하는 디폴트 메소드 사용
 
 ```java
 
 default void sort(Comparator<? super E> c){
    Collections.sort(this, c);
 }

```
- default 키워드는 디폴트 메소드임을 가르킨다.
- 결국 디폴트 메소드를 사용하면 자바 API의 호환성을 유지하며 라이브러리를 바꿀 수 있다.


## 호환성

- 바이너리 호환성
    + 무언가 바꾸었을 때 에러 없이 기존 바이너리가 실행되는 상황을 바이너리 호환성이라 한다.
- 소스 호환성
    + 코드를 고쳐도 기존 프로그램을 성공적으로 재컴파일 할 수 있어야 함을 의미한다.
- 동적 호환성
    + 코드를 바꾼 다음에도 같은 입력값이 주어지면 프로그램은 같은 동작을 해야 한다.
    
    
## 함수형 인터페이스

-  함수형 인터페이스는 오직 하나의 추상 메소드를 포함한다.
-  디폴트 메소드는 추상 메소드에 해당하지 않는다.

## 옳지 못한 상속

- 상속으로 코드 재사용 문제를 모두 해결할 수 없다.
- final 키워드를 클래스를 선언하여 다른 클래스가 해당 클래스를 상속받지 못하게 함으로 써 동작이 바꾸지 않도록 할 수 있다.

 
## default method 3가지 규칙
 - 클래스가 항상 이긴다. 클래스나 슈퍼클래스에서 정의한 메서드가 디폴트 메소드보다 우선권을 갖는다.
 - 위 규칙 이외의 상황에서는 서브 인터페이스가 이긴다.
 - 여전히 디폴트 메서드의 우선순위가 결정되지 않았으면 여러 인터페이스를 상속받는 클래스가 명시적으로 디폴트 메소드를 오버라이드하고 호출해야 한다.
 
 
 ## 요약
 - 자바8의 인터페이스는 구현 코드를 포함하는 디폴트 메서드, 정적 메서드를 정의할 수 있다.
 - default method는 body를 갖는다.
 - 공개된 인터페이스에 추상 메서드는 소스 호환성을 깨뜨린다.
 - 디폴트 메소드로 기존 버전과의 호환성을 유지한다.
 - 다중 상속의 경우 두 메소드의 시그니처가 같고 충돌 문제를 해결할 수 없을 땐 클래스에서 오버라이드하여 명시적으로 작성하여 결정한다.